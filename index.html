<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDLC (glasstec)</title>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/pose-detection"></script>
    <link rel="stylesheet" href="styles.css"> <!-- Link to external CSS file -->
</head>
<body>
    <div class="side-panel">
        <div class="checkbox-group">
            <div class="checkbox-row">
                <label>
                    <input type="checkbox" id="cam0Checkbox"> Cam 0
                </label>
                <label>
                    <input type="checkbox" id="cam1Checkbox"> Cam 1
                </label>
            </div>
            <div class="checkbox-row">
                <label>
                    <input type="checkbox" id="mirror0"> Mirror 0
                </label>
                <label>
                    <input type="checkbox" id="mirror1"> Mirror 1
                </label>
            </div>
            <label>
                <input type="checkbox" id="poseCheckbox"> Pose Tracking (1)
            </label>
            <label>
                <input type="checkbox" id="radialFadeAnimCheckbox"> Screen Saver (2)
            </label>
            <label>
                <input type="checkbox" id="videoCheckbox"> Videos (3)
            </label>
            <input type="checkbox" id="videoCheckbox0" class="video-group" checked>
            <input type="checkbox" id="videoCheckbox1" class="video-group"> 
            <input type="checkbox" id="videoCheckbox2" class="video-group"> 
            <input type="checkbox" id="videoCheckbox3" class="video-group"> 
            <input type="checkbox" id="videoCheckbox4" class="video-group">
            <label>
                <input type="checkbox" id="domesticCheckbox"> Domestic PDLC (4)
            </label>
            <div class="checkbox-row">
                <label>
                    <input type="checkbox" id="whiteCheckbox"> White
                </label>
                <label>
                    <input type="checkbox" id="blackCheckbox"> Black
                </label>
                <label>
                    <input type="checkbox" id="greyCheckbox"> Grey
                </label>
            </div>
            <div class="slider-container">
                <button class="decrease-btn">-</button>
                <input type="range" id="greySlider" min="0" max="255">
                <button class="increase-btn">+</button>
                <label for="greySlider">Shade of Grey: <span id="greySliderValue">128</span></label>
            </div>
            <label>
                <input type="checkbox" id="fadeAnimCheckbox"> Fade Animation
            </label>
            <label>
                <input type="checkbox" id="gradientAnimCheckbox"> Linear Gradient
            </label>
            <label>
                <input type="checkbox" id="radialAnimCheckbox"> Radial No Fade
            </label>
        </div>
    
        <div class="checkbox-group">
            <div class="slider-container">   
                <button class="decrease-btn">-</button>
                <input type="range" id="bodySlider" min="2" max="50">
                <button class="increase-btn">+</button>
                <label for="bodySlider">Body Line Width: <span id="bodySliderValue">10</span></label>
            </div>
            <div class="slider-container">   
                <button class="decrease-btn">-</button>
                <input type="range" id="armWidthSlider" min="2" max="50">
                <button class="increase-btn">+</button>
                <label for="armSlider">Arm Line Width: <span id="armWidthSliderValue">10</span></label>
            </div>
            
            <div class="slider-container">   
                <button class="decrease-btn">-</button>
                <input type="range" id="headSlider" min="5" max="100">
                <button class="increase-btn">+</button>
                <label for="headSlider">Head Size: <span id="headSliderValue">30</span></label>
            </div>
        
            <div class="slider-container">   
                <button class="decrease-btn">-</button>
                <input type="range" id="armSlider" min="1" max="5" step=".1">
                <button class="increase-btn">+</button>
                <label for="armSlider">Arm Length: <span id="armSliderValue">1</span></label>
            </div>
        
            <div class="slider-container">   
                <button class="decrease-btn">-</button>
                <input type="range" id="stretchxSlider" min="0" max="2" step=".01">
                <button class="increase-btn">+</button>
                <label for="stretchxSlider">Stretch X: <span id="stretchxSliderValue">0</span></label>
            </div>

            <div class="slider-container">   
                <button class="decrease-btn">-</button>
                <input type="range" id="stretchySlider" min="0" max="2" step=".01">
                <button class="increase-btn">+</button>
                <label for="stretchySlider">Stretch Y: <span id="stretchySliderValue">0</span></label>
            </div>

            <div class="slider-container">   
                <button class="decrease-btn">-</button>
                <input type="range" id="offsetX0Slider" min="-100" max="100">
                <button class="increase-btn">+</button>
                <label for="offsetX0Slider">Offset X (cam0): <span id="offsetX0SliderValue">0</span></label>
            </div>
            <div class="slider-container">   
                <button class="decrease-btn">-</button>
                <input type="range" id="offsetX1Slider" min="-100" max="100">
                <button class="increase-btn">+</button>
                <label for="offsetX1Slider">Offset X (cam1): <span id="offsetX1SliderValue">0</span></label>
            </div>
            <div class="slider-container">   
                <button class="decrease-btn">-</button>
                <input type="range" id="offsetYSlider" min="-100" max="100">
                <button class="increase-btn">+</button>
                <label for="offsetYSlider">Offset Y: <span id="offsetYSliderValue">0</span></label>
            </div>
        </div>
        <div class="checkbox-group">
  
        <div class="slider-container">   
            <button class="decrease-btn">-</button>
            <input type="range" id="pixelSlider" min=".01" max="1" step = ".01">
            <button class="increase-btn">+</button>
            <label for="pixelSlider">Pixel Smooth: <span id="pixelSliderValue">.9</span></label>
        </div>
        <div class="slider-container">   
            <button class="decrease-btn">-</button>
            <input type="range" id="blurSlider" min="1" max="30" step = "1">
            <button class="increase-btn">+</button>
            <label for="blurSlider">Blur Slider: <span id="blurSliderValue">9</span></label>
        </div>
    </div>

        <div class="checkbox-group">

        <div class="slider-container">   
            <button class="decrease-btn">-</button>
            <input type="range" id="minZSlider" min="0" max="6" step = ".1">
            <button class="increase-btn">+</button>
            <label for="minZSlider">Min Z: <span id="minZSliderValue">0</span></label>
        </div>
        <div class="slider-container">   
            <button class="decrease-btn">-</button>
            <input type="range" id="maxZSlider" min="0" max="6" step = ".1">
            <button class="increase-btn">+</button>
            <label for="maxZSlider">Max Z: <span id="maxZSliderValue">6</span></label>
        </div>
    </div>
<!-- Add Cutoff Sliders -->
<div class="checkbox-group">

        <div class="slider-container">   
            <button class="decrease-btn">-</button>
            <input type="range" id="rightEdgeCutoffSlider" min="0" max="10">
            <button class="increase-btn">+</button>
            <label for="rightEdgeCutoffSlider">Right Edge Cutoff: <span id="rightEdgeCutoffSliderValue">0</span></label>
        </div>

        <div class="slider-container">   
            <button class="decrease-btn">-</button>
            <input type="range" id="leftEdgeCutoffSlider" min="0" max="10">
            <button class="increase-btn">+</button>
            <label for="leftEdgeCutoffSlider">Left Edge Cutoff: <span id="leftEdgeCutoffSliderValue">0</span></label>
        </div>

        <div class="slider-container">   
            <button class="decrease-btn">-</button>
            <input type="range" id="topEdgeCutoffSlider" min="0" max="10">
            <button class="increase-btn">+</button>
            <label for="topEdgeCutoffSlider">Top Edge Cutoff: <span id="topEdgeCutoffSliderValue">0</span></label>
        </div>

        <div class="slider-container">   
            <button class="decrease-btn">-</button>
            <input type="range" id="bottomEdgeCutoffSlider" min="0" max="10">
            <button class="increase-btn">+</button>
            <label for="bottomEdgeCutoffSlider">Bottom Edge Cutoff: <span id="bottomEdgeCutoffSliderValue">0</span></label>
        </div>
        </div>
        <label>Arrow Bars (with CSV mapping)</label>
        <div class="checkbox-row">
        <label>
            <input type="checkbox" id="verticalBarCheckbox"> Vertical Bar 
        </label>
        <label>
            <input type="checkbox" id="pixelMoverCheckbox"> Single Pixel
        </label>
    </div>

        <label>Channel Chase (no CSV mapping)</label>
        <div class="checkbox-row">
        <label>
            <input type="checkbox" id="startChase"> Start Chase
        </label>
        </div>
        <button id="saveButton">Save</button>

    </div>
    <div id="fpsDisplay" style="position: absolute; bottom: 10px; right: 10px; color: black; font-size:10px; z-index: 1000;">
        FPS: 0
    </div>
<div class="camera-row" id = "camera-row">
   
</div>
<div id="whiteCanvasContainer">
    <canvas id="whiteCanvas"></canvas>
</div>
<div id="pixelatedCanvasContainer">
    <canvas id="pixelatedCanvas"></canvas>
</div>
<div id = "pixelInfo"></div>

<script type="module" src="setupSidepanel.js"></script>
<script type="module" src="cameraSetup.js"></script>
<script type="module" src="fill.js"></script>
<script type="module" src="detection.js"></script>

</body>
</html>
